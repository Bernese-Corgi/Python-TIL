# 메모리 관리와 좋은 습관

> 이 문서는 아래 첨부한 아티클의 요약본입니다.
> [파이썬 - 메모리 관리와 좋은 습관](https://yomangstartup.tistory.com/105) 

## 파이썬 메모리 관리에 대해 배워야하는 이유

파이썬은 메모리를 자동으로 관리해주는 언어이다.
그러나 파이썬 최적화 코드에 지식이 없다면 안 좋은 코드 습관이 생기게 된다.
파이썬에서 메모리를 관리하는 방법을 알아야, 최적화된 코드를 작성하는 좋은 습관을 들일 수 있다.

## 파이썬이 실행되는 방식

파이썬은 컴파일러와 인터프린터를 혼합하여 사용한다.

**1) 컴파일**

파이썬 코드를 작성하고 실행 버튼을 누르면, 파이썬 코드는 0과 1로 이루어진 **바이트 코드**로 변환된다.
이러한 과정을 **컴파일**이라고 한다.

**2) 인터프린팅, 런타임**

변환된 바이트 코드는 메모리에 올라가 차례차례 실행된다.
이 과정을 **인터프린팅** 혹은 **런타임**이라고 한다.

**3) 파이썬 가상 머신**

런타임 때 파이썬은 python virtual machine이라는 가상 컴퓨터에서 바이트 코드를 실행한다.
*외부 모듈*의 경우, 가상 머신이 만들어지고 바이트 코드를 해석할 때 추가된다.

**4) 파이썬 인터프린터**

이렇게 파이썬을 실행하는 프로그램은 여러 가지가 있다

- **cpython** (파이썬 설치 시 기본적으로 제공하는 인터프린터)
- pypy
- ironpython

## cpython

### cpython의 메모리 관리

컴퓨터 공학에서 메모리 관리 중 가장 중요한 부분은 **메모리 할당**이다.

**정적 메모리 할당**

- 코드들이 컴파일 시간에 할당되는 것
- stack 자료구조 사용 : 프로그램이 끝날 때까지 stack에 저장된 데이터는 사라지지 않는다.

**동적 메모리 할당**

- 코드가 실행되고 나서 메모리에 할당되는 것
- heap 자료구조 사용 : 데이터가 필요하지 않으면 메모리에서 제거할 수 있다.

**파이썬에서 메모리를 할당하는 방식**

- 정적 메모리 : 정의된 함수, 변수의 이름
- 동적 메모리 (heap) : 모든 오브젝트들이 들어간다. (오브젝트 - 메모리에 존재하는 실제 값)

### cpython의 기본적인 메모리 관리 예제

실행 버튼 클릭 → 기본적인 세팅 → 위에서 아래로 한 줄씩 읽으며 코드를 이해

cpython에서는 변수를 메모리 주소값을 이용해 구현
